# Production overrides for luz-api

replicaCount: 1

fullnameOverride: luz-api

image:
  repository: malshinim/luzapi
  pullPolicy: IfNotPresent
  tag: "latest" # CI will typically override with sha-<commit>

imagePullSecrets:
  - name: dockerhub-cred

service:
  type: ClusterIP
  port: 80
  targetPort: 3000

env:
  NODE_ENV: production
  PORT: "3000"

# Secret configuration (must pre-exist in the namespace)
secret:
  name: supabase-db
  databaseUrlKey: DATABASE_URL

appSecret:
  name: app-config
  jwtSecretKey: JWT_SECRET
  googleClientIdsKey: GOOGLE_CLIENT_IDS

resources:
  requests:
    cpu: 50m
    memory: 128Mi
  limits:
    cpu: 250m
    memory: 256Mi

healthCheck:
  enabled: true
  path: /health
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 6


